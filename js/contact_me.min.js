$(function(){showSendButton=function(){$("#sendMessageButton").show()},hideSendButton=function(){$("#sendMessageButton").hide()},$("#contactForm input,#contactForm textarea").jqBootstrapValidation({preventSubmit:!0,submitError:function(t,e,s){},submitSuccess:function(t,e){e.preventDefault();var s=$("input#name").val(),a=$("input#email").val(),n=$("input#phone").val(),i=$("textarea#message").val(),c=$("textarea#g-recaptcha-response").val(),o=s;0<=o.indexOf(" ")&&(o=s.split(" ").slice(0,-1).join(" ")),$this=$("#sendMessageButton"),$this.prop("disabled",!0),$.ajax({url:"/contact",type:"POST",data:{name:s,phone:n,email:a,message:i,"g-recaptcha-response":c},cache:!1,success:function(){$("#success").html("<div class='alert alert-success'>"),$("#success > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-success").append("<strong>Viestisi on lähetetty. </strong>"),$("#success > .alert-success").append("</div>"),$("#contactForm").trigger("reset")},error:function(){grecaptcha.reset(),$("#success").html("<div class='alert alert-danger'>"),$("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-danger").append($("<strong>").text("Pahoittelut "+o+", näyttää siltä, että viestiä ei voida lähettää. Kokeile myöhemmin uudelleen tai soita vaikka minulle.")),$("#success > .alert-danger").append("</div>")},complete:function(){setTimeout(function(){$this.prop("disabled",!1)},1e3)}})},filter:function(){return $(this).is(":visible")}}),$('a[data-toggle="tab"]').click(function(t){t.preventDefault(),$(this).tab("show")})}),$("#name").focus(function(){$("#success").html("")});